@use '@tyler-forge/theme/mixins' as theme-mixins;

@mixin core-styles() {
  .mdc-scaffold {
    @include scaffold();
  }

  .mdc-scaffold__header {
    @include scaffold-header();
  }

  .mdc-scaffold__body {
    @include scaffold-body();
  }

  .mdc-scaffold__body-header {
    @include scaffold-body-header();
  }

  .mdc-scaffold__body-main {
    @include scaffold-body-main();
  }

  .mdc-scaffold__body-footer {
    @include scaffold-body-footer();
  }

  .mdc-scaffold__body-left-aside,
  .mdc-scaffold__body-right-aside {
    @include scaffold-body-aside();
  }

  .mdc-scaffold__body-left-aside {
    @include scaffold-body-left-aside();
  }

  .mdc-scaffold__body-right-aside {
    @include scaffold-body-right-aside();
  }

  .mdc-scaffold__footer {
    @include scaffold-footer();
  }
}

@mixin scaffold() {
  @include theme-mixins.css-custom-property(height, --mdc-scaffold-height, 100vh);

  display: -ms-grid;
  display: grid;
  -ms-grid-rows: auto 1fr auto;
  grid-template-rows: auto 1fr auto;
}

@mixin scaffold-header() {
  -ms-grid-row: 1;
  grid-row: 1;
}

@mixin scaffold-body() {
  @include theme-mixins.css-custom-property(width, --mdc-scaffold-width, 100vw);
  
  display: -ms-grid;
  display: grid;
  -ms-grid-rows: auto 1fr auto;
  grid-template-rows: auto 1fr auto;
  -ms-grid-columns: auto 1fr auto;
  grid-template-columns: auto 1fr auto;
  -ms-grid-row: 2;
  grid-row: 2;
  overflow: hidden;
}

@mixin scaffold-body-header() {
  -ms-grid-row: 1;
  grid-row: 1;
  -ms-grid-column: 2;
  grid-column: 2;
}

@mixin scaffold-body-main() {
  overflow: auto;
  -ms-grid-row: 2;
  grid-row: 2;
  -ms-grid-column: 2;
  grid-column: 2;
}

@mixin scaffold-body-footer() {
  -ms-grid-row: 3;
  grid-row: 3;
  -ms-grid-column: 2;
  grid-column: 2;
}

@mixin scaffold-footer() {
  -ms-grid-row: 3;
  grid-row: 3;
}

@mixin scaffold-body-aside() {
  overflow: auto;
}

@mixin scaffold-body-left-aside() {
  -ms-grid-column: 1;
  grid-column: 1;

  // When specifying a body-left slot, this allows the aside to span the last row
  -ms-grid-row: 1;
  -ms-grid-row-span: 3;
  grid-row: 1/4;
}

@mixin scaffold-body-right-aside() {
  -ms-grid-column: 3;
  grid-column: 3;

  // When specifying a body-left slot, this allows the aside to span the last row
  -ms-grid-row: 1;
  -ms-grid-row-span: 3;
  grid-row: 1/4;
}
